# 画像アップロードアプリ - 要件定義

## プロジェクト概要
画像のアップロード、表示、共有、ダウンロード機能を持つフルスタックアプリケーション

## 機能要件

### 1. ファイルアップロード機能
- **対応フォーマット**: JPG, PNG, GIF のみ
- **最大ファイルサイズ**: 2MB
- **アップロード方法**:
  - ドラッグ&ドロップ
  - ファイルブラウザから選択
- **同時アップロード**: 1ファイルずつ

### 2. ユーザーインターフェース
- アップロード画面に "Drag & drop a file or browse files" を表示
- ファイル制限の案内 "JPG, PNG or GIF - Max file size 2MB" を表示
- アップロード中にローディング状態を表示 ("Uploading, please wait..")
- アップロード完了時に画像を表示
- 画像のURLをクリップボードにコピーする "Share" ボタン
  - 共有URL形式: `https://your-app.vercel.app/image/:id`
- 画像をダウンロードする "Download" ボタン
- ダークモード/ライトモードの切り替え（オプション、デフォルトはライトモード）

### 3. 画像表示ページ
- `/image/:id` で個別の画像を表示
- DBから画像情報を取得してCloudinaryの画像を表示
- Share、Downloadボタンも同様に表示

### 4. バリデーション
- ファイル形式のチェック（JPG, PNG, GIF以外は拒否）
- ファイルサイズのチェック（2MB超過は拒否）
- サーバーサイドでもバリデーションを実施

## 技術要件

### フロントエンド
- **フレームワーク**: React
  - `useState`, `useEffect` フックの使用
- **ファイルハンドリング**: `react-dropzone` ライブラリ
- **スタイリング**: Tailwind CSS
- **レスポンシブ対応**: モバイル・デスクトップ両方に最適化

### バックエンド
- **フレームワーク**: NestJS
- **データベース**: Supabase (PostgreSQL)
  - 画像メタデータの保存（ID、Cloudinary URL、アップロード日時など）
  - 無料枠: 500MB データベース、1GB ファイルストレージ
- **ストレージ**: Cloudinary
  - 無料枠: 25GB ストレージ、25GB 転送量/月
  - 画像に特化したクラウドストレージ
  - 自動最適化機能あり
- **APIエンドポイント**:
  - `POST /api/upload`: 画像アップロード、画像情報をDBに保存、画像ページURLを返却
  - `GET /api/images/:id`: 画像情報を取得（Cloudinary URLなど）
- **バリデーション**: サーバーサイドでファイル形式とサイズを検証

### デプロイ
- **フロントエンド**: Vercel
- **バックエンド**: Render
- **提出物**: リポジトリURL + デモサイトURL

## 非機能要件

### パフォーマンス
- アップロード中のユーザーフィードバック（ローディング表示）
- 適切なエラーハンドリング

### ユーザビリティ
- 直感的な操作フロー
- レスポンシブデザイン
- アクセシビリティへの配慮

## 学習目標
- フルスタック開発の経験
- ファイルアップロードとバリデーションの実装
- レスポンシブデザインの実装
- Webアプリケーションのデプロイ

## 参考情報
- チャレンジ元: https://devchallenges.io/challenge/image-upload-app
